<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <style>
    </style>
</head>
<body>
<p id="text"></p>
<canvas id="abc" width="500" height="500"></canvas>

<script>
    var canvas=document.getElementById('abc');
    var context=canvas.getContext("2d");
//矩形-----------------------
//    //实践表明在不设施fillStyle下的默认fillStyle=black
//    context.fillRect(0,0,100,100)
//    //实践表明在不设施strokeStyle下的默认strokeStyle=black
//    context.strokeRect(120,0,100,100)
//    //设置纯色
//    context.fillStyle = "red";
//    context.strokeStyle = "blue";
//    context.rect(0, 120, 100, 100);
//    context.fill();
//    context.strokeRect(120, 120, 100, 100);
//    //设置透明度实践证明透明度值>0,<1值越低，越透明，值>=1时为纯色，值<=0时为完全透明
//    context.fillStyle = "rgba(255,0,0,0.2)";
//    context.strokeStyle = "rgba(255,0,0,0.2)";
//    context.fillRect(240,0 , 100, 100);
//    context.strokeRect(240, 120, 100, 100);
//    context.clearRect(50,50,240,120)

//弧形------------------
//    context.beginPath();
//    //路径移动到圆心绘制扇形
//    context.moveTo(200,150);
//    context.arc(200, 150, 100,Math.PI/2 , Math.PI, true);
//    //不关闭路径路径会一直保留下去，当然也可以利用这个特点做出意想不到的效果
//     context.closePath();
//     context.fillStyle = 'rgba(0,255,0,0.25)';
//     context.fill();

//线段路径------------------
//    //context.beginPath();
//    context.beginPath()
//    context.strokeStyle = "rgb(0,0,0,1)";
//    context.fillStyle = "rgb(0,0,0,1)"
//    //实验证明第一次lineTo的时候和moveTo功能一样
//    context.lineTo(100, 100);
//    //之后的lineTo会以上次lineTo的节点为开始
//    context.lineTo(200, 100);
//    context.lineTo(200, 200);
//    context.lineTo(100, 200);
//    context.closePath()
//    context.stroke();
//
//
//    context.beginPath()
//    context.moveTo(50, 50);
//    context.strokeStyle = "red";
//    context.fillStyle = "red"
//    context.lineTo(88,88)
//    context.lineTo(46,75)
//    context.closePath()
//    context.stroke();

//复杂的线段------------------------
//    var n = 0;
//    var dx = 150;
//    var dy = 150;
//    var s = 100;
//    context.beginPath();
//    context.fillStyle = 'rgb(100,255,100)';
//    context.strokeStyle = 'rgb(0,0,100)';
//    var x = Math.sin(0);
//    var y = Math.cos(0);
//    var dig = Math.PI / 15 * 11;
//    for (var i = 0; i < 30; i++) {
//            var x = Math.sin(i * dig);
//            var y = Math.cos(i * dig);
//            context.lineTo(dx + x * s, dy + y * s);
//        }
//   context.closePath();
//   context.fill();
//   context.stroke();


//贝塞尔曲线----------------------------
//    context.beginPath();
//    context.moveTo(50,50);
//    context.bezierCurveTo(50,50,150,50,150,150);
//    context.stroke();
//
//    context.beginPath();
//    context.moveTo(150,150);
//    context.quadraticCurveTo(150,250,250,250);
//    context.stroke();



//渐变------------------------------
//    var g1=context.createLinearGradient(0,0,0,300);
//
//    g1.addColorStop(0,"rgb(255,0,0)");     //红
//    g1.addColorStop(0.5,"rgb(0,255,0)");   //绿
//    g1.addColorStop(1,"rgb(0,0,255)");     //蓝
//
//    context.fillStyle=g1;
//    context.fillRect(0,0,400,300)




//发散渐变---------------------
//    //同心
    //    var g1=context.createRadialGradient(200,150,0,200,150,100);
    //    g1.addColorStop(0,"rgb(255,0,0)");
    //    g1.addColorStop(.5,"rgb(0,255,0)");
    //    g1.addColorStop(1,"rgb(0,0,255)");
    //    context.fillStyle=g1;
    //    context.beginPath();
    //    context.arc(200,150,100,0,Math.PI*2,true);
    //    context.closePath();
    //    context.fill();

//    //不同心
//    var g1=context.createRadialGradient(200,150,10,300,150,50);
//    g1.addColorStop(0,"rgb(255,0,0)");
//    g1.addColorStop(.5,"rgb(0,255,0)");
//    g1.addColorStop(1,"rgb(0,0,255)");
//    context.fillStyle=g1;
//    context.fillRect(0,0,400,300)



//图像变形-------------
//    //保存了当前context的状态，默认黑色状态；
//    context.save();
//    context.fillStyle = "#EEEEFF";
//    context.fillRect(0, 0, 400, 300);
//
//    //平移 缩放 旋转  1 2 3
//    context.fillStyle = "rgba(255,0,0,0.1)";
//    context.translate(100, 100);
//    context.scale(0.5, 0.5);
//    context.rotate(Math.PI / 4);
//    //恢复到刚刚保存的状态,保存恢复只能使用一次
////    context.restore();
//    context.fillRect(0, 0, 100, 100);


//图形组合------------------
//    var options=[
//                    "source-over",
//                    "destination-over",
//                    "source-in",
//                    "destination-in",
//                    "source-out",
//                    "destination-out",
//                    "source-atop",
//                    "destination-atop",
//                    "lighter",
//                    "xor",
//                    "copy"
//                ];
//    var i = -1;//组合效果编号
//    //结合setinterval动态显示组合
//    var interal = setInterval(function () {
//        if (i == 10) {
//            i=0;
//        }
//        else {
//            i++;
//        }
//        alert(i)
//        document.getElementById('text').innerHTML=options[i];
//        //蓝色矩形
//        context.fillStyle = "blue";
//        context.fillRect(10, 10, 60, 60);
//        //设置组合方式
//        context.globalCompositeOperation = options[i];
//        //设置新图形（红色圆形）
//        context.beginPath();
//        context.fillStyle = "red";
//        context.arc(60, 60, 30, 0, Math.PI * 2, false);
//        context.fill();
//    }, 15000);


//给图形绘制阴影-----------------
//    context.shadowOffsetX=10;
//    context.shadowOffsetY=10;
//    context.shadowColor='rgba(100,100,100,.5)';
//    context.shadowBlur=1.35;
//    context.fillStyle="rgba(255,0,0,.5)";
//    context.fillRect(100,100,200,300)



//绘制图像----------------
//    var image=new Image();
//    image.src="1.png";
//    image.onload=function(){
//        context.drawImage(image,0,0)
//    }
//
//    var image2=new Image();
//    image2.src="1.png";
//    image2.onload=function(){
//        context.drawImage(image2,300,0,100,100)
//    }
//
//    var image3=new Image();
//    image3.src="1.png";
//    image3.onload=function(){
//        context.drawImage(image3,0,0,200,200,300,300,200,200)
//    }


//平铺----------------
//    var image=new Image();
//    image.src="1.png";
//    image.onload=function(){
//        var ptrn=context.createPattern(image,'repeat');
//        context.fillStyle=ptrn;
//        context.fillRect(0,0,600,400)
//    }


//剪裁----------------
//    context.fillRect(0, 0, 600, 400);
//    var image=new Image();
//    image.src="1.png";
//    image.onload=function(){
//        context.beginPath();
//        context.arc(200,200,100,0,Math.PI*2);
//        context.closePath();
//        context.clip();
//        context.drawImage(image,0,0,300,300)
//    }


//绘制文字----------------
//    context.font = "italic 30px sans-serif";
//    context.textBaseline = 'top';
//    var text="adsasag";
//    context.fillText(text,10,10)
//    context.strokeText(text,10,50)

//结合setInterval制作动画
    var x = 100;//矩形开始坐标
    var y = 100;//矩形结束坐标
    var mx = 0;//0右1左
    var my = 0; //0下1上
    var ml = 1;//每次移动长度
    var w = 20;//矩形宽度
    var h = 20;//矩形高度
    var cw = 400;//canvas宽度
    var ch = 300; //canvas高度
    function move(context) {
        context.clearRect(0, 0, 400, 300);
        context.fillStyle = "#EEEEFF";
        context.fillRect(0, 0, 400, 300);
        context.fillStyle = "red";
        context.fillRect(x, y, w, h);
        if (mx == 0) {
            x = x + ml;
            if (x >= cw-w) {
                mx = 1;
            }
        }
        else {
            x = x - ml;
            if (x <= 0) {
                mx = 0;
            }
        }
        if (my == 0) {
            y = y + ml;
            if (y >= ch-h) {
                my = 1;
            }
        }
        else {
            y = y - ml;
            if (y <= 0) {
                my = 0;
            }
        }

    }

//var interal=setInterval(function(){
//    move(context)
//},17);

    function render(){
        move(context);
        requestAnimationFrame(render);
    }
    render();
    if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = function(fn) {
            setTimeout(fn, 17);
        };
    }




</script>
</body>
</html>